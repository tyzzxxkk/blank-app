import streamlit as st

# --- 1. ì•± ê¸°ë³¸ ì„¤ì • ---
# st.set_page_config()ëŠ” ì•±ì˜ ì œëª©(íƒ­ ì´ë¦„)ê³¼ ì•„ì´ì½˜ì„ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
# ì´ ì½”ë“œëŠ” ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
st.set_page_config(
    page_title="ë‚˜ì˜ MBTI í•™ìŠµ ìœ í˜•ì€?",
    page_icon="ğŸ§ "
)

# --- 2. ì§„ë‹¨ ê²°ê³¼ ë°ì´í„° ---
# ê° MBTI ìœ í˜•ë³„ íŠ¹ì§•ê³¼ ì¶”ì²œ í•™ìŠµë²•ì„ ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ì €ì¥í•©ë‹ˆë‹¤.
# ë‚˜ì¤‘ì— ì‚¬ìš©ìì˜ MBTI ê²°ê³¼ì— ë§ëŠ” ì„¤ëª…ì„ ë³´ì—¬ì¤„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
results = {
    "ISTJ": {
        "type": "ë…¼ë¦¬ì ì¸ í˜„ì‹¤ì£¼ì˜ì (ì†Œê¸ˆí˜•)",
        "description": "ì°¨ë¶„í•˜ê³  ì±…ì„ê°ì´ ê°•í•˜ë©°, ì‚¬ì‹¤ì— ê·¼ê±°í•˜ì—¬ ì²´ê³„ì ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤.",
        "study": "â€¢ êµ¬ì²´ì ì¸ í•™ìŠµ ëª©í‘œ ì„¤ì •\nâ€¢ ìš”ì•½ ë° ì •ë¦¬ ë…¸íŠ¸ í•„ê¸°\nâ€¢ ì¡°ìš©í•œ í™˜ê²½ì—ì„œ í˜¼ì ê³µë¶€í•˜ê¸°"
    },
    "ISFJ": {
        "type": "ìš©ê°í•œ ìˆ˜í˜¸ì (ê¶Œë ¥í˜•)",
        "description": "ë”°ëœ»í•˜ê³  ì„±ì‹¤í•˜ë©°, ë‹¤ë¥¸ ì‚¬ëŒë“¤ì„ ë„ìš°ë©´ì„œ í•™ìŠµí•  ë•Œ ë™ê¸°ë¶€ì—¬ë¥¼ ë°›ìŠµë‹ˆë‹¤.",
        "study": "â€¢ ìŠ¤í„°ë”” ê·¸ë£¹ ì°¸ì—¬\nâ€¢ ì‹¤ì œ ì‚¬ë¡€ë¥¼ í†µí•œ í•™ìŠµ\nâ€¢ ê¾¸ì¤€í•œ ë³µìŠµê³¼ ì•”ê¸°"
    },
    "INFJ": {
        "type": "ì„ ì˜ì˜ ì˜¹í˜¸ì (ì˜ˆì–¸ìí˜•)",
        "description": "í†µì°°ë ¥ì´ ë›°ì–´ë‚˜ê³  ì´ìƒì£¼ì˜ì ì´ë©°, í•™ìŠµ ë‚´ìš©ì˜ ì˜ë¯¸ì™€ ê°€ì¹˜ë¥¼ ì¤‘ìš”í•˜ê²Œ ìƒê°í•©ë‹ˆë‹¤.",
        "study": "â€¢ í† ë¡  ë° ì„¸ë¯¸ë‚˜ ì°¸ì—¬\nâ€¢ ë¹„ìœ ì™€ ìƒì§•ì„ í™œìš©í•œ ê°œë… ì´í•´\nâ€¢ ì¥ê¸°ì ì¸ ë¹„ì „ì„ ê°–ê³  í•™ìŠµí•˜ê¸°"
    },
    "INTJ": {
        "type": "ìš©ì˜ì£¼ë„í•œ ì „ëµê°€ (ê³¼í•™ìí˜•)",
        "description": "ë…ì°½ì ì´ê³  ë…¼ë¦¬ì ì´ë©°, ë³µì¡í•œ ì´ë¡ ì´ë‚˜ ì•„ì´ë””ì–´ë¥¼ íƒêµ¬í•˜ëŠ” ê²ƒì„ ì¦ê¹ë‹ˆë‹¤.",
        "study": "â€¢ ì‹¬ì¸µì ì¸ ìë£Œ íƒêµ¬\nâ€¢ ìì‹ ë§Œì˜ í•™ìŠµ ëª¨ë¸ ë§Œë“¤ê¸°\nâ€¢ ì§€ì  í˜¸ê¸°ì‹¬ì„ ìê·¹í•˜ëŠ” ì£¼ì œ ì„ íƒ"
    },
    "ISTP": {
        "type": "ë§ŒëŠ¥ ì¬ì£¼ê¾¼ (ë°±ê³¼ì‚¬ì „í˜•)",
        "description": "ìƒí™© ì ì‘ë ¥ì´ ë›°ì–´ë‚˜ê³ , ì§ì ‘ ì†ìœ¼ë¡œ ë§Œì§€ê³  ê²½í—˜í•˜ë©° ë°°ìš°ëŠ” ê²ƒì„ ê°€ì¥ ì¢‹ì•„í•©ë‹ˆë‹¤.",
        "study": "â€¢ ì‹¤í—˜ ë° ì‹¤ìŠµ ìœ„ì£¼ì˜ í•™ìŠµ\nâ€¢ ë¬¸ì œ í•´ê²° ì¤‘ì‹¬ì˜ í”„ë¡œì íŠ¸\nâ€¢ ì‹œí–‰ì°©ì˜¤ë¥¼ í†µí•œ ì›ë¦¬ í„°ë“"
    },
    "ISFP": {
        "type": "í˜¸ê¸°ì‹¬ ë§ì€ ì˜ˆìˆ ê°€ (ì„±ì¸êµ°ìí˜•)",
        "description": "ì˜¨í™”í•˜ê³  ê²¸ì†í•˜ë©°, ë¯¸ì  ê°ê°ì„ í™œìš©í•˜ê±°ë‚˜ ììœ ë¡œìš´ ë¶„ìœ„ê¸°ì—ì„œ í•™ìŠµí•  ë•Œ ëŠ¥ë¥ ì´ ì˜¤ë¦…ë‹ˆë‹¤.",
        "study": "â€¢ ì‹œê° ìë£Œ(ì´ë¯¸ì§€, ì˜ìƒ) í™œìš©\nâ€¢ ì°½ì˜ì ì¸ í‘œí˜„ í™œë™(ê·¸ë¦¼, ê¸€ì“°ê¸°)\nâ€¢ ê²½ìŸ ì—†ëŠ” í¸ì•ˆí•œ ë¶„ìœ„ê¸° ì¡°ì„±"
    },
    "INFP": {
        "type": "ì—´ì •ì ì¸ ì¤‘ì¬ì (ì”ë‹¤ë¥´í¬í˜•)",
        "description": "ì´ìƒì£¼ì˜ì ì´ê³  ì°½ì˜ì ì´ë©°, ìì‹ ì˜ ê°€ì¹˜ê´€ê³¼ ì¼ì¹˜í•˜ëŠ” ë‚´ìš©ì„ ë°°ìš¸ ë•Œ ê¹Šì´ ëª°ì…í•©ë‹ˆë‹¤.",
        "study": "â€¢ ì¸ë¬¸í•™, ì˜ˆìˆ  ë¶„ì•¼ íƒêµ¬\nâ€¢ ë…ì„œì™€ ì„±ì°°ì„ í†µí•œ í•™ìŠµ\nâ€¢ ìì‹ ì˜ ìƒê°ê³¼ ëŠë‚Œì„ í‘œí˜„í•˜ê¸°"
    },
    "INTP": {
        "type": "ë…¼ë¦¬ì ì¸ ì‚¬ìƒ‰ê°€ (ì•„ì´ë””ì–´í˜•)",
        "description": "ì§€ì  í˜¸ê¸°ì‹¬ì´ ì™•ì„±í•˜ê³ , ë…¼ë¦¬ì  ë¶„ì„ê³¼ ì¶”ìƒì ì¸ ì•„ì´ë””ì–´ë¥¼ íƒêµ¬í•˜ëŠ” ê²ƒì„ ì¦ê¹ë‹ˆë‹¤.",
        "study": "â€¢ ì›ë¦¬ì™€ ê°œë… ì¤‘ì‹¬ì˜ í•™ìŠµ\nâ€¢ ê°€ì„¤ì„ ì„¸ìš°ê³  ê²€ì¦í•˜ê¸°\nâ€¢ ë…ë¦½ì ì¸ ì—°êµ¬ ë° íƒêµ¬ í™œë™"
    },
    "ESTP": {
        "type": "ëª¨í—˜ì„ ì¦ê¸°ëŠ” ì‚¬ì—…ê°€ (í™œë™ê°€í˜•)",
        "description": "ì—ë„ˆì§€ê°€ ë„˜ì¹˜ê³  í–‰ë™ ì§€í–¥ì ì´ë©°, ì§ì ‘ ë¶€ë”ªíˆê³  ê²½í—˜í•˜ë©° ë°°ìš°ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤.",
        "study": "â€¢ í˜„ì¥ í•™ìŠµ ë° ì²´í—˜ í™œë™\nâ€¢ ê²Œì„ì´ë‚˜ ê²½ìŸì„ í†µí•œ í•™ìŠµ\nâ€¢ ì§§ê³  ì§‘ì¤‘ì ì¸ í•™ìŠµ ì„¸ì…˜"
    },
    "ESFP": {
        "type": "ììœ ë¡œìš´ ì˜í˜¼ì˜ ì—°ì˜ˆì¸ (ì‚¬êµí˜•)",
        "description": "ì‚¬êµì ì´ê³  ì¦‰í¥ì ì´ë©°, ì¦ê±°ìš´ ë¶„ìœ„ê¸° ì†ì—ì„œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ë°°ìš¸ ë•Œ ê°€ì¥ íš¨ê³¼ì ì…ë‹ˆë‹¤.",
        "study": "â€¢ ê·¸ë£¹ í”„ë¡œì íŠ¸ ë° íŒ€ í™œë™\nâ€¢ ì—­í• ê·¹ ë° ì‹œë®¬ë ˆì´ì…˜ í•™ìŠµ\nâ€¢ ê¸ì •ì ì¸ í”¼ë“œë°±ê³¼ ê²©ë ¤"
    },
    "ENFP": {
        "type": "ì¬ê¸°ë°œë„í•œ í™œë™ê°€ (ìŠ¤íŒŒí¬í˜•)",
        "description": "ì—´ì •ì ì´ê³  ìƒìƒë ¥ì´ í’ë¶€í•˜ë©°, ë‹¤ì–‘í•œ ê°€ëŠ¥ì„±ì„ íƒìƒ‰í•˜ê³  ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë¥¼ ì‹œë„í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤.",
        "study": "â€¢ ë¸Œë ˆì¸ìŠ¤í† ë° ë° í† ë¡ \nâ€¢ ë‹¤ì–‘í•œ ì£¼ì œë¥¼ ë„˜ë‚˜ë“œëŠ” í•™ìŠµ\nâ€¢ ì—´ì •ì ì¸ ë©˜í† ì™€ì˜ êµë¥˜"
    },
    "ENTP": {
        "type": "ëœ¨ê±°ìš´ ë…¼ìŸì„ ì¦ê¸°ëŠ” ë³€ë¡ ê°€ (ë°œëª…ê°€í˜•)",
        "description": "ë‘ë‡Œ íšŒì „ì´ ë¹ ë¥´ê³  ë…¼ìŸì„ ì¦ê¸°ë©°, ì§€ì ì¸ ë„ì „ì„ í†µí•´ ì„±ì¥í•˜ê³  ë°°ìš°ëŠ” ìœ í˜•ì…ë‹ˆë‹¤.",
        "study": "â€¢ í† ë¡  ë° ë…¼ìŸ ì°¸ì—¬\nâ€¢ ë³µì¡í•œ ë¬¸ì œ í•´ê²°í•˜ê¸°\nâ€¢ ê¸°ì¡´ ì§€ì‹ì— ì˜ë¬¸ì„ ì œê¸°í•˜ê¸°"
    },
    "ESTJ": {
        "type": "ì—„ê²©í•œ ê´€ë¦¬ì (ì‚¬ì—…ê°€í˜•)",
        "description": "ì²´ê³„ì ì´ê³  í˜„ì‹¤ì ì´ë©°, ëª…í™•í•œ ëª©í‘œì™€ ê³„íšì— ë”°ë¼ íš¨ìœ¨ì ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤.",
        "study": "â€¢ êµ¬ì²´ì ì¸ í•™ìŠµ ê³„íší‘œ ì‘ì„±\nâ€¢ ì‹¤ìš©ì ì¸ ì§€ì‹ê³¼ ê¸°ìˆ  ìŠµë“\nâ€¢ ë¦¬ë” ì—­í• ì„ ë§¡ì•„ ìŠ¤í„°ë”” ì§„í–‰"
    },
    "ESFJ": {
        "type": "ì‚¬êµì ì¸ ì™¸êµê´€ (ì¹œì„ ë„ëª¨í˜•)",
        "description": "íƒ€ì¸ì—ê²Œ ê´€ì‹¬ì´ ë§ê³  í˜‘ì¡°ì ì´ë©°, ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ì˜ ìƒí˜¸ì‘ìš© ì†ì—ì„œ í•™ìŠµ íš¨ê³¼ê°€ ê·¹ëŒ€í™”ë©ë‹ˆë‹¤.",
        "study": "â€¢ í˜‘ë™ í•™ìŠµ ë° ê·¸ë£¹ ê³¼ì œ\nâ€¢ ë‹¤ë¥¸ ì‚¬ëŒì„ ê°€ë¥´ì¹˜ë©° í•™ìŠµí•˜ê¸°\nâ€¢ ê¸ì •ì ì´ê³  ì§€ì§€ì ì¸ í•™ìŠµ í™˜ê²½"
    },
    "ENFJ": {
        "type": "ì •ì˜ë¡œìš´ ì‚¬íšŒìš´ë™ê°€ (ì–¸ë³€ëŠ¥ìˆ™í˜•)",
        "description": "ì¹´ë¦¬ìŠ¤ë§ˆ ìˆê³  ì‚¬ëŒë“¤ì„ ì´ë„ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ë©°, íƒ€ì¸ì—ê²Œ ì˜ê°ì„ ì£¼ê±°ë‚˜ ë°›ìœ¼ë©° í•™ìŠµí•©ë‹ˆë‹¤.",
        "study": "â€¢ ë°œí‘œ ë° í”„ë ˆì  í…Œì´ì…˜\nâ€¢ ë©˜í† ë§ ë˜ëŠ” ë¦¬ë”ì‹­ í™œë™\nâ€¢ ì‚¬íšŒì  ê°€ì¹˜ê°€ ìˆëŠ” ì£¼ì œ íƒêµ¬"
    },
    "ENTJ": {
        "type": "ëŒ€ë‹´í•œ í†µì†”ì (ì§€ë„ìí˜•)",
        "description": "ì „ëµì ì´ê³  ê²°ë‹¨ë ¥ì´ ìˆìœ¼ë©°, ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ í•™ìŠµì„ ë„êµ¬ë¡œ í™œìš©í•˜ëŠ” ë° ëŠ¥ìˆ™í•©ë‹ˆë‹¤.",
        "study": "â€¢ ì¥ê¸°ì ì¸ ëª©í‘œ ì„¤ì • ë° ì „ëµ ìˆ˜ë¦½\nâ€¢ íš¨ìœ¨ì ì¸ í•™ìŠµ ë°©ë²•ë¡  ì ìš©\nâ€¢ ë¦¬ë”ì‹­ê³¼ ê´€ë ¨ëœ ì§€ì‹ ìŠµë“"
    }
}

# --- 3. ì•± ì œëª© ë° ì„¤ëª… ---
# st.title()ì€ ê°€ì¥ í° ì œëª©ì„, st.header()ëŠ” ì¤‘ê°„ ì œëª©ì„ í‘œì‹œí•©ë‹ˆë‹¤.
st.title("ğŸ§  MBTI í•™ìŠµ ìœ í˜• ì§„ë‹¨")
st.header("ë‚˜ëŠ” ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ê³µë¶€í•  ë•Œ ê°€ì¥ íš¨ìœ¨ì ì¼ê¹Œ?", divider="rainbow")
st.write("ê°„ë‹¨í•œ ì§ˆë¬¸ì— ë‹µë³€í•˜ê³  ë‚˜ì—ê²Œ ê¼­ ë§ëŠ” í•™ìŠµ ì „ëµì„ ì°¾ì•„ë³´ì„¸ìš”!")


# --- 4. ì§ˆë¬¸ ë° ì„ íƒì§€ ---
# ê° MBTI ì§€í‘œ(E/I, S/N, T/F, J/P)ë¥¼ ì§„ë‹¨í•˜ê¸° ìœ„í•œ ì§ˆë¬¸ ëª©ë¡ì…ë‹ˆë‹¤.
questions = [
    # E(ì™¸í–¥) / I(ë‚´í–¥)
    "ìƒˆë¡œìš´ ì‚¬ëŒë“¤ê³¼ì˜ íŒŒí‹°ë‚˜ ëª¨ì„ì— ê°€ë©´ ë‚˜ëŠ”...",
    "ì£¼ë§ì— ì—ë„ˆì§€ë¥¼ ì¬ì¶©ì „í•˜ëŠ” ë°©ì‹ì€...",
    # S(ê°ê°) / N(ì§ê´€)
    "ìƒˆë¡œìš´ ì •ë³´ë¥¼ ì ‘í•  ë•Œ ë‚˜ëŠ”...",
    "ë¯¸ë˜ë¥¼ ìƒê°í•  ë•Œ ë‚˜ëŠ” ì£¼ë¡œ...",
    # T(ì‚¬ê³ ) / F(ê°ì •)
    "ê²°ì •ì„ ë‚´ë¦´ ë•Œ ë” ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€...",
    "ì¹œêµ¬ê°€ ê³ ë¯¼ì„ í„¸ì–´ë†“ì„ ë•Œ ë‚˜ëŠ”...",
    # J(íŒë‹¨) / P(ì¸ì‹)
    "ì—¬í–‰ì„ ê³„íší•  ë•Œ ë‚˜ëŠ”...",
    "ê³¼ì œë¥¼ ì‹œì‘í•  ë•Œ ë‚˜ëŠ”..."
]

options = [
    ["ì£¼ë¡œ ë¨¼ì € ë§ì„ ê±¸ë©° ì—ë„ˆì§€ë¥¼ ì–»ëŠ”ë‹¤.", "ì¡°ìš©íˆ ê´€ì°°í•˜ë©° ì—ë„ˆì§€ë¥¼ ì•„ë‚€ë‹¤."],  # E/I
    ["ì¹œêµ¬ë“¤ê³¼ ë§Œë‚˜ê±°ë‚˜ í™œë™ì ì¸ ì¼ì„ í•œë‹¤.", "ì§‘ì—ì„œ í˜¼ì ì¡°ìš©íˆ ì‹œê°„ì„ ë³´ë‚¸ë‹¤."], # E/I
    ["êµ¬ì²´ì ì´ê³  ì‹¤ì œì ì¸ ì‚¬ì‹¤ì— ì§‘ì¤‘í•œë‹¤.", "ì „ì²´ì ì¸ ê·¸ë¦¼ê³¼ ìˆ¨ê²¨ì§„ ì˜ë¯¸ë¥¼ ì°¾ëŠ”ë‹¤."], # S/N
    ["í˜„ì‹¤ì ìœ¼ë¡œ ì¼ì–´ë‚  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì¼ì„ ìƒìƒí•œë‹¤.", "ì´ìƒì ì´ê³  ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ ìƒìƒí•œë‹¤."], # S/N
    ["ë…¼ë¦¬ì ì¸ ë¶„ì„ê³¼ ê°ê´€ì ì¸ ì‚¬ì‹¤.", "ìƒí™©ì— ê´€ë ¨ëœ ì‚¬ëŒë“¤ì˜ ê°ì •ê³¼ ê´€ê³„."], # T/F
    ["í•´ê²°ì±…ì„ ì°¾ì•„ì£¼ë ¤ê³  ë…¼ë¦¬ì ìœ¼ë¡œ ì¡°ì–¸í•œë‹¤.", "ë¨¼ì € ê³µê°í•´ì£¼ê³  ê°ì •ì ìœ¼ë¡œ ìœ„ë¡œí•œë‹¤."], # T/F
    ["í•­ê³µê¶Œ, ìˆ™ì†Œ, ì¼ì •ì„ ë¯¸ë¦¬ ë‹¤ ì •í•´ë†“ëŠ”ë‹¤.", "ëŒ€ëµì ì¸ ê³„íšë§Œ ì„¸ìš°ê³  ì¦‰í¥ì ìœ¼ë¡œ ì›€ì§ì¸ë‹¤."], # J/P
    ["ë§ˆê°ê¸°í•œ ì „ì— ë¯¸ë¦¬ ê³„íšì„ ì„¸ì›Œ ì‹œì‘í•œë‹¤.", "ë§ˆê°ê¸°í•œì´ ì„ë°•í–ˆì„ ë•Œ ì§‘ì¤‘í•´ì„œ ì‹œì‘í•œë‹¤."]  # J/P
]

# ê° ì„ íƒì§€ì— í•´ë‹¹í•˜ëŠ” MBTI ì§€í‘œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
option_to_mbti = [
    ['E', 'I'], ['E', 'I'],
    ['S', 'N'], ['S', 'N'],
    ['T', 'F'], ['T', 'F'],
    ['J', 'P'], ['J', 'P']
]


# --- 5. ì§ˆë¬¸ ë Œë”ë§ ë° ë‹µë³€ ì €ì¥ ---
# st.form()ì€ ì—¬ëŸ¬ ìœ„ì ¯ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ 'ì œì¶œ' ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë§Œ ì‹¤í–‰ë˜ê²Œ í•©ë‹ˆë‹¤.
# ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ìê°€ ë¼ë””ì˜¤ ë²„íŠ¼ í•˜ë‚˜ë¥¼ ëˆ„ë¥¼ ë•Œë§ˆë‹¤ í™”ë©´ì´ ìƒˆë¡œê³ ì¹¨ë˜ëŠ” ê²ƒì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
with st.form("mbti_form"):
    
    # ê° ì§ˆë¬¸ê³¼ ì„ íƒì§€ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.
    # enumerate()ë¥¼ ì‚¬ìš©í•˜ë©´ ë¦¬ìŠ¤íŠ¸ì˜ ìˆœì„œ(index)ì™€ ê°’(q)ì„ í•¨ê»˜ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    user_answers = []
    for i, q in enumerate(questions):
        # st.radio()ëŠ” ë¼ë””ì˜¤ ë²„íŠ¼ì„ ë§Œë“­ë‹ˆë‹¤. horizontal=TrueëŠ” ë²„íŠ¼ì„ ê°€ë¡œë¡œ ë°°ì—´í•©ë‹ˆë‹¤.
        answer = st.radio(q, options[i], key=f"q{i}", horizontal=True)
        user_answers.append(answer)

    # st.form_submit_button()ì€ í¼ ì œì¶œ ë²„íŠ¼ì„ ë§Œë“­ë‹ˆë‹¤.
    # use_container_width=TrueëŠ” ë²„íŠ¼ì„ í™”ë©´ ë„ˆë¹„ì— ë§ê²Œ ì±„ì›ë‹ˆë‹¤.
    submitted = st.form_submit_button("ê²°ê³¼ ë³´ê¸°", use_container_width=True)


# --- 6. ê²°ê³¼ ê³„ì‚° ë° í‘œì‹œ ---
# 'ê²°ê³¼ ë³´ê¸°' ë²„íŠ¼ì´ ëˆŒë ¸ì„ ë•Œ(submitted == True) ì•„ë˜ ì½”ë“œê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
if submitted:
    # MBTI ê° ì§€í‘œë³„ ì ìˆ˜ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•œ ë”•ì…”ë„ˆë¦¬ì…ë‹ˆë‹¤.
    scores = {'E': 0, 'I': 0, 'S': 0, 'N': 0, 'T': 0, 'F': 0, 'J': 0, 'P': 0}

    # ì‚¬ìš©ìì˜ ë‹µë³€ì„ í•˜ë‚˜ì”© í™•ì¸í•˜ë©° ì ìˆ˜ë¥¼ ë§¤ê¹ë‹ˆë‹¤.
    for i, answer in enumerate(user_answers):
        # ì‚¬ìš©ìê°€ ì„ íƒí•œ ë‹µë³€(answer)ì´ í•´ë‹¹ ì§ˆë¬¸ì˜ ì²« ë²ˆì§¸ ì˜µì…˜ì¸ì§€, ë‘ ë²ˆì§¸ ì˜µì…˜ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
        selected_option_index = options[i].index(answer)
        
        # ì˜µì…˜ ìˆœì„œì— ë§ëŠ” MBTI ì§€í‘œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. (ì˜ˆ: 0ë²ˆì€ E, 1ë²ˆì€ I)
        mbti_char = option_to_mbti[i][selected_option_index]
        
        # í•´ë‹¹ MBTI ì§€í‘œì˜ ì ìˆ˜ë¥¼ 1 ì¦ê°€ì‹œí‚µë‹ˆë‹¤.
        scores[mbti_char] += 1

    # ì ìˆ˜ë¥¼ ë¹„êµí•˜ì—¬ ìµœì¢… MBTI ìœ í˜•ì„ ê²°ì •í•©ë‹ˆë‹¤.
    mbti_result = ""
    mbti_result += "E" if scores['E'] > scores['I'] else "I"
    mbti_result += "S" if scores['S'] > scores['N'] else "N"
    mbti_result += "T" if scores['T'] > scores['F'] else "F"
    mbti_result += "J" if scores['J'] > scores['P'] else "P"

    # st.session_stateëŠ” ì„¸ì…˜(ì‚¬ìš©ìê°€ ì•±ì— ì ‘ì†í•´ ìˆëŠ” ë™ì•ˆ) ë™ì•ˆ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.
    # ì—¬ê¸°ì— ê²°ê³¼ë¥¼ ì €ì¥í•˜ë©´, ë‹¤ë¥¸ ë™ì‘ì„ í•˜ë”ë¼ë„ ê²°ê³¼ê°€ ì‚¬ë¼ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
    st.session_state.mbti_result = mbti_result


# --- 7. ìµœì¢… ê²°ê³¼ í™”ë©´ ì¶œë ¥ ---
# st.session_stateì— 'mbti_result' ê°’ì´ ì¡´ì¬í•  ë•Œë§Œ ê²°ê³¼ë¥¼ í™”ë©´ì— ë³´ì—¬ì¤ë‹ˆë‹¤.
# ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ìê°€ ì²˜ìŒ ì•±ì— ì ‘ì†í–ˆì„ ë•ŒëŠ” ê²°ê³¼ì°½ì´ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.
if 'mbti_result' in st.session_state:
    result = results[st.session_state.mbti_result]
    
    # â­ï¸ ìˆ˜ì •ëœ ë¶€ë¶„: MBTI ìœ í˜•ê³¼ í•™ìŠµ ìœ í˜• ì„¤ëª…ì„ í•¨ê»˜ í‘œì‹œí•©ë‹ˆë‹¤.
    st.header(f"ë‹¹ì‹ ì˜ í•™ìŠµ ìœ í˜•ì€: **{st.session_state.mbti_result} ({result['type']})**", divider="rainbow")
    
    st.subheader("ğŸ’¡ ìœ í˜• íŠ¹ì§•")
    st.write(result['description'])
    
    st.subheader("âœï¸ ì¶”ì²œ í•™ìŠµ ì „ëµ")
    st.write(result['study'])

    # st.button()ì„ ì‚¬ìš©í•´ ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
    # ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„¸ì…˜ì— ì €ì¥ëœ ê²°ê³¼ê°€ ì‚­ì œë˜ì–´ ì´ˆê¸° í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.
    if st.button("ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°", use_container_width=True):
        del st.session_state.mbti_result
        st.rerun() # rerun ëª…ë ¹ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ì¦‰ì‹œ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤.